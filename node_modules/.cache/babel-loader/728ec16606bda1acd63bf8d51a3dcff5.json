{"ast":null,"code":"'use strict';\n\nconst ResourceBase = require('./resourceBase');\n\nclass Postcards extends ResourceBase {\n  constructor(config) {\n    super('postcards', config);\n  }\n\n  list(options, callback) {\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    return this._transmit('GET', null, options, null, callback);\n  }\n\n  retrieve(id, callback) {\n    return this._transmit('GET', id, null, null, callback);\n  }\n\n  delete(id, callback) {\n    return this._transmit('DELETE', id, null, null, callback);\n  }\n\n  create(params, headers, callback) {\n    let isBuffer;\n\n    if (params.front) {\n      isBuffer = Buffer.isBuffer(params.front);\n\n      if (isBuffer) {\n        params.front = {\n          value: params.front,\n          options: {\n            filename: 'front.pdf'\n          }\n        };\n      }\n    }\n\n    if (params.back) {\n      isBuffer = Buffer.isBuffer(params.back);\n\n      if (isBuffer) {\n        params.back = {\n          value: params.back,\n          options: {\n            filename: 'back.pdf'\n          }\n        };\n      }\n    }\n\n    for (const p in params) {\n      if (p === 'merge_variables' && params[p] instanceof Object) {\n        params[p] = JSON.stringify(params[p]);\n      }\n\n      if (p === 'front' || p === 'back' || !(params[p] instanceof Object)) {\n        continue;\n      }\n\n      for (const key in params[p]) {\n        params[`${p}[${key}]`] = params[p][key];\n      }\n\n      delete params[p];\n    }\n\n    return this._transmit('POST', null, null, params, headers, callback);\n  }\n\n}\n\nmodule.exports = Postcards;","map":{"version":3,"sources":["/Users/isaac/Downloads/react_spa/node_modules/lob/lib/resources/postcards.js"],"names":["ResourceBase","require","Postcards","constructor","config","list","options","callback","_transmit","retrieve","id","delete","create","params","headers","isBuffer","front","Buffer","value","filename","back","p","Object","JSON","stringify","key","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,gBAAD,CAA5B;;AAEA,MAAMC,SAAN,SAAwBF,YAAxB,CAAqC;AAEnCG,EAAAA,WAAW,CAAEC,MAAF,EAAU;AACnB,UAAM,WAAN,EAAmBA,MAAnB;AACD;;AAEDC,EAAAA,IAAI,CAAEC,OAAF,EAAWC,QAAX,EAAqB;AAEvB,QAAI,OAAOD,OAAP,KAAmB,UAAvB,EAAmC;AACjCC,MAAAA,QAAQ,GAAGD,OAAX;AACAA,MAAAA,OAAO,GAAG,EAAV;AACD;;AAED,WAAO,KAAKE,SAAL,CAAe,KAAf,EAAsB,IAAtB,EAA4BF,OAA5B,EAAqC,IAArC,EAA2CC,QAA3C,CAAP;AACD;;AAEDE,EAAAA,QAAQ,CAAEC,EAAF,EAAMH,QAAN,EAAgB;AACtB,WAAO,KAAKC,SAAL,CAAe,KAAf,EAAsBE,EAAtB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsCH,QAAtC,CAAP;AACD;;AAEDI,EAAAA,MAAM,CAAED,EAAF,EAAMH,QAAN,EAAgB;AACpB,WAAO,KAAKC,SAAL,CAAe,QAAf,EAAyBE,EAAzB,EAA6B,IAA7B,EAAmC,IAAnC,EAAyCH,QAAzC,CAAP;AACD;;AAEDK,EAAAA,MAAM,CAAEC,MAAF,EAAUC,OAAV,EAAmBP,QAAnB,EAA6B;AAEjC,QAAIQ,QAAJ;;AAEA,QAAIF,MAAM,CAACG,KAAX,EAAkB;AAChBD,MAAAA,QAAQ,GAAGE,MAAM,CAACF,QAAP,CAAgBF,MAAM,CAACG,KAAvB,CAAX;;AAEA,UAAID,QAAJ,EAAc;AACZF,QAAAA,MAAM,CAACG,KAAP,GAAe;AACbE,UAAAA,KAAK,EAAEL,MAAM,CAACG,KADD;AAEbV,UAAAA,OAAO,EAAE;AAAEa,YAAAA,QAAQ,EAAE;AAAZ;AAFI,SAAf;AAID;AACF;;AAED,QAAIN,MAAM,CAACO,IAAX,EAAiB;AACfL,MAAAA,QAAQ,GAAGE,MAAM,CAACF,QAAP,CAAgBF,MAAM,CAACO,IAAvB,CAAX;;AAEA,UAAIL,QAAJ,EAAc;AACZF,QAAAA,MAAM,CAACO,IAAP,GAAc;AACZF,UAAAA,KAAK,EAAEL,MAAM,CAACO,IADF;AAEZd,UAAAA,OAAO,EAAE;AAAEa,YAAAA,QAAQ,EAAE;AAAZ;AAFG,SAAd;AAID;AACF;;AAED,SAAK,MAAME,CAAX,IAAgBR,MAAhB,EAAwB;AAEtB,UAAIQ,CAAC,KAAK,iBAAN,IAA2BR,MAAM,CAACQ,CAAD,CAAN,YAAqBC,MAApD,EAA4D;AAC1DT,QAAAA,MAAM,CAACQ,CAAD,CAAN,GAAYE,IAAI,CAACC,SAAL,CAAeX,MAAM,CAACQ,CAAD,CAArB,CAAZ;AACD;;AAED,UAAIA,CAAC,KAAK,OAAN,IAAiBA,CAAC,KAAK,MAAvB,IAAiC,EAAER,MAAM,CAACQ,CAAD,CAAN,YAAqBC,MAAvB,CAArC,EAAqE;AACnE;AACD;;AAED,WAAK,MAAMG,GAAX,IAAkBZ,MAAM,CAACQ,CAAD,CAAxB,EAA6B;AAC3BR,QAAAA,MAAM,CAAE,GAAEQ,CAAE,IAAGI,GAAI,GAAb,CAAN,GAAyBZ,MAAM,CAACQ,CAAD,CAAN,CAAUI,GAAV,CAAzB;AACD;;AAED,aAAOZ,MAAM,CAACQ,CAAD,CAAb;AACD;;AAED,WAAO,KAAKb,SAAL,CAAe,MAAf,EAAuB,IAAvB,EAA6B,IAA7B,EAAmCK,MAAnC,EAA2CC,OAA3C,EAAoDP,QAApD,CAAP;AACD;;AApEkC;;AAwErCmB,MAAM,CAACC,OAAP,GAAiBzB,SAAjB","sourcesContent":["'use strict';\n\nconst ResourceBase = require('./resourceBase');\n\nclass Postcards extends ResourceBase {\n\n  constructor (config) {\n    super('postcards', config);\n  }\n\n  list (options, callback) {\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    return this._transmit('GET', null, options, null, callback);\n  }\n\n  retrieve (id, callback) {\n    return this._transmit('GET', id, null, null, callback);\n  }\n\n  delete (id, callback) {\n    return this._transmit('DELETE', id, null, null, callback);\n  }\n\n  create (params, headers, callback) {\n\n    let isBuffer;\n\n    if (params.front) {\n      isBuffer = Buffer.isBuffer(params.front);\n\n      if (isBuffer) {\n        params.front = {\n          value: params.front,\n          options: { filename: 'front.pdf' }\n        };\n      }\n    }\n\n    if (params.back) {\n      isBuffer = Buffer.isBuffer(params.back);\n\n      if (isBuffer) {\n        params.back = {\n          value: params.back,\n          options: { filename: 'back.pdf' }\n        };\n      }\n    }\n\n    for (const p in params) {\n\n      if (p === 'merge_variables' && params[p] instanceof Object) {\n        params[p] = JSON.stringify(params[p]);\n      }\n\n      if (p === 'front' || p === 'back' || !(params[p] instanceof Object)) {\n        continue;\n      }\n\n      for (const key in params[p]) {\n        params[`${p}[${key}]`] = params[p][key];\n      }\n\n      delete params[p];\n    }\n\n    return this._transmit('POST', null, null, params, headers, callback);\n  }\n\n}\n\nmodule.exports = Postcards;\n"]},"metadata":{},"sourceType":"script"}